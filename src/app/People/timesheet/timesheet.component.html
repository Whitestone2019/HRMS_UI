<div class="timesheet-container">
  <h2>Timesheet for {{ month + 1 }}/{{ year }}</h2>

  <!-- Search box wrapped in container -->
  <div class="search-box-container">
    <input
      type="text"
      placeholder="Search by Employee ID or Name"
      [(ngModel)]="searchTerm"
      (input)="onSearchChange()"
      class="search-box"
    />
  </div>

  <table class="timesheet-table" *ngIf="paginatedData.length > 0">
    <thead>
      <tr>
        <th>S.No</th>
        <th>Employee ID</th>
        <th>Name</th>
        <th>Effective Working Days</th>
        <th>Present</th>
        <th>Absent</th>
        <th>Miss Punch</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let employee of paginatedData" (click)="onRowClick(employee)">
        <td>{{ employee.sno }}</td>
        <td>{{ employee.employeeId }}</td>
        <td>{{ employee.members }}</td>
        <td>{{ employee.effectiveWorkingDays }}</td>
        <td>{{ employee.present }}</td>
        <td>{{ employee.absent }}</td>
        <td>{{ employee.missPunch }}</td>
      </tr>
    </tbody>
  </table>

  <div *ngIf="paginatedData.length === 0">
    No data available or loading...
  </div>

  <!-- Pagination controls -->
  <div class="pagination" *ngIf="totalPages > 1">
    <button (click)="prevPage()" [disabled]="currentPage === 1">&laquo; Prev</button>
    <button *ngFor="let page of [].constructor(totalPages); let i = index"
            (click)="goToPage(i + 1)" 
            [class.active]="currentPage === i + 1">{{ i + 1 }}</button>
    <button (click)="nextPage()" [disabled]="currentPage === totalPages">Next &raquo;</button>
  </div>
</div>
