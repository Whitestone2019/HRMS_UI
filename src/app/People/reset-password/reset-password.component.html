<form (ngSubmit)="onSubmit()" class="reset-form">
  <div class="radio-group">
    <label>
      <input
        type="radio"
        name="passwordOption"
        value="reset"
        [(ngModel)]="selectedOption"
      />
      Reset Password
    </label>
    <label>
      <input
        type="radio"
        name="passwordOption"
        value="forgot"
        [(ngModel)]="selectedOption"
      />
      Forgot Password
    </label>
  </div>

  <!-- Common Field -->
  <label for="employeeId">Employee ID:</label>
  <input
    type="text"
    id="employeeId"
    [(ngModel)]="resetData.employeeId"
    name="employeeId"
    placeholder="Enter Employee ID"
    required
  />

  <!-- RESET PASSWORD FIELDS -->
  <div *ngIf="selectedOption === 'reset'">
    <label for="oldPassword">Old Password:</label>
    <input
      type="password"
      id="oldPassword"
      [(ngModel)]="resetData.oldPassword"
      name="oldPassword"
      placeholder="Enter Old Password"
      required
    />

    <label for="newPassword">New Password:</label>
    <div class="password-input-container">
      <input
        [type]="passwordVisible ? 'text' : 'password'"
        id="newPassword"
        [(ngModel)]="resetData.newPassword"
        name="newPassword"
        placeholder="Enter New Password"
        required
      />
      <i
        class="fa"
        [ngClass]="passwordVisible ? 'fa-eye' : 'fa-eye-slash'"
        (click)="togglePasswordVisibility()"
      ></i>
    </div>
  </div>

  <!-- FORGOT PASSWORD FIELDS -->
  <div *ngIf="selectedOption === 'forgot'">
    <button type="button" (click)="sendOtp()" [disabled]="otpSent || isLoading">
      {{ otpSent ? 'OTP Sent' : 'Send OTP' }}
    </button>

    <div *ngIf="otpSent">
      <label for="otp">Enter OTP:</label>
      <input
        type="text"
        id="otp"
        [(ngModel)]="resetData.otp"
        name="otp"
        placeholder="Enter OTP"
        required
      />

      <label for="newPassword">New Password:</label>
      <div class="password-input-container">
        <input
          [type]="passwordVisible ? 'text' : 'password'"
          id="newPassword"
          [(ngModel)]="resetData.newPassword"
          name="newPassword"
          placeholder="Enter New Password"
          required
        />
        <i
          class="fa"
          [ngClass]="passwordVisible ? 'fa-eye' : 'fa-eye-slash'"
          (click)="togglePasswordVisibility()"
        ></i>
      </div>
    </div>
  </div>

  <button type="submit" [disabled]="isLoading">
    {{ selectedOption === 'reset' ? 'Reset Password' : 'Change Password' }}
  </button>

  <div *ngIf="isLoading" class="loading">
    <div class="loading-spinner"></div>
  </div>

  <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>
  <div *ngIf="successMessage" class="success-message">{{ successMessage }}</div>
</form>
