<!-- sidebar.component.html -->
<div class="sidebar">
  <!-- Home link -->
  <a *ngIf="isMenuVisible('home')" routerLink="/dashboard/overview" (click)="onMenuSelect('home')" 
     [class.active]="selectedMenu === 'home'">
    <i class="fas fa-home"></i> Home
  </a>
  
  <!-- Onboarding menu -->
  <a *ngIf="isMenuVisible('onboarding')" routerLink="/dashboard/onboarding" (click)="onMenuSelect('onboarding')" 
     [class.active]="selectedMenu === 'onboarding'">
    <i class="fas fa-user-plus"></i> Onboarding
  </a>

  <!-- Project History -->
  <a *ngIf="isMenuVisible('Project History')" routerLink="/dashboard/project" (click)="onMenuSelect('project')" 
     [class.active]="selectedMenu === 'project'">
    <i class="fas fa-cogs"></i> Project History
  </a>
  
  <!-- Attendance menu -->
  <a *ngIf="isMenuVisible('attendance')" routerLink="/dashboard/attendance" (click)="onMenuSelect('attendance')" 
     [class.active]="selectedMenu === 'attendance'">
    <i class="fas fa-calendar-check"></i> Attendance
  </a>
  
  <!-- Leave Tracker menu -->
  <a *ngIf="isMenuVisible('leave-summary')" routerLink="/dashboard/leave-summary" (click)="onMenuSelect('leave-summary')" 
     [class.active]="selectedMenu === 'leave-summary'">
    <i class="fas fa-user-minus"></i> Leave Tracker
  </a>

  <!-- Reports menu -->
  <a *ngIf="isMenuVisible('report')" routerLink="/dashboard/report" (click)="onMenuSelect('report')" 
     [class.active]="selectedMenu === 'report'">
    <i class="fas fa-chart-line"></i> Report's
  </a>

  <!-- Policy menu - UPDATED for role-based routing -->
  <!-- Option 1: Using click handler (Recommended) -->
  <a *ngIf="isMenuVisible('Policy')" 
     (click)="onPolicyClick()"
     [class.active]="selectedMenu === 'Policy'">
    <i class="fas fa-file-alt"></i> Policy
  </a>

  <!-- Option 2: Using different links based on role -->
  <!-- 
  <ng-container *ngIf="isMenuVisible('Policy')">
    <a *ngIf="userService.isAdmin()" 
       routerLink="/dashboard/admin/upload" 
       (click)="onMenuSelect('Policy')"
       [class.active]="selectedMenu === 'Policy'">
      <i class="fas fa-file-alt"></i> Upload Policy
    </a>
    
    <a *ngIf="!userService.isAdmin()" 
       routerLink="/dashboard/user/view" 
       (click)="onMenuSelect('Policy')"
       [class.active]="selectedMenu === 'Policy'">
      <i class="fas fa-file-alt"></i> View Policy
    </a>
  </ng-container>
  -->

  <!-- Resignation Form -->
  <a *ngIf="true"
     (click)="checkExitForm()" 
     [class.active]="selectedMenu === 'exit-form'">
    <i class="fas fa-running"></i> Resignation Form
  </a>
</div>